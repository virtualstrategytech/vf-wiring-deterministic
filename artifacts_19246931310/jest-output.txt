--- CI ENV SNAPSHOT ---
ACCEPT_EULA=Y
ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE=/opt/actionarchivecache
AGENT_TOOLSDIRECTORY=/opt/hostedtoolcache
ANDROID_HOME=/usr/local/lib/android/sdk
ANDROID_NDK=/usr/local/lib/android/sdk/ndk/27.3.13750724
ANDROID_NDK_HOME=/usr/local/lib/android/sdk/ndk/27.3.13750724
ANDROID_NDK_LATEST_HOME=/usr/local/lib/android/sdk/ndk/28.2.13676358
ANDROID_NDK_ROOT=/usr/local/lib/android/sdk/ndk/27.3.13750724
ANDROID_SDK_ROOT=/usr/local/lib/android/sdk
ANT_HOME=/usr/share/ant
AZURE_EXTENSION_DIR=/opt/az/azcliextensions
BOOTSTRAP_HASKELL_NONINTERACTIVE=1
BUSINESS_URL=
CHROMEWEBDRIVER=/usr/local/share/chromedriver-linux64
CHROME_BIN=/usr/bin/google-chrome
CI=true
CONDA=/usr/share/miniconda
DEBIAN_FRONTEND=noninteractive
DEBUG_TESTS=0
DEBUG_TESTS_LEVEL=3
DOTNET_MULTILEVEL_LOOKUP=0
DOTNET_NOLOGO=1
DOTNET_SKIP_FIRST_TIME_EXPERIENCE=1
EDGEWEBDRIVER=/usr/local/share/edge_driver
ENABLE_RUNNER_TRACING=true
FORCE_CHILD_PIPES=0
GECKOWEBDRIVER=/usr/local/share/gecko_driver
GHCUP_INSTALL_BASE_PREFIX=/usr/local
GITHUB_ACTION=__run_3
GITHUB_ACTIONS=true
GITHUB_ACTION_REF=
GITHUB_ACTION_REPOSITORY=
GITHUB_ACTOR=virtualstrategytech
GITHUB_ACTOR_ID=47340974
GITHUB_API_URL=https://api.github.com
GITHUB_BASE_REF=
GITHUB_ENV=/home/runner/work/_temp/_runner_file_commands/set_env_b4144d8c-6316-4ce4-a7a4-27f13333ad54
GITHUB_EVENT_NAME=push
GITHUB_EVENT_PATH=/home/runner/work/_temp/_github_workflow/event.json
GITHUB_GRAPHQL_URL=https://api.github.com/graphql
GITHUB_HEAD_REF=
GITHUB_JOB=test
GITHUB_OUTPUT=/home/runner/work/_temp/_runner_file_commands/set_output_b4144d8c-6316-4ce4-a7a4-27f13333ad54
GITHUB_PATH=/home/runner/work/_temp/_runner_file_commands/add_path_b4144d8c-6316-4ce4-a7a4-27f13333ad54
GITHUB_REF=refs/heads/fix/close-http-clients
GITHUB_REF_NAME=fix/close-http-clients
GITHUB_REF_PROTECTED=false
GITHUB_REF_TYPE=branch
GITHUB_REPOSITORY=virtualstrategytech/vf-wiring-deterministic
GITHUB_REPOSITORY_ID=1065938900
GITHUB_REPOSITORY_OWNER=virtualstrategytech
GITHUB_REPOSITORY_OWNER_ID=47340974
GITHUB_RETENTION_DAYS=90
GITHUB_RUN_ATTEMPT=1
GITHUB_RUN_ID=19246931310
GITHUB_RUN_NUMBER=348
GITHUB_SERVER_URL=https://github.com
GITHUB_SHA=8985a7c3c6b24833fde52eab570e3d38f0a93065
GITHUB_STATE=/home/runner/work/_temp/_runner_file_commands/save_state_b4144d8c-6316-4ce4-a7a4-27f13333ad54
GITHUB_STEP_SUMMARY=/home/runner/work/_temp/_runner_file_commands/step_summary_b4144d8c-6316-4ce4-a7a4-27f13333ad54
GITHUB_TRIGGERING_ACTOR=virtualstrategytech
GITHUB_WORKFLOW=CI
GITHUB_WORKFLOW_REF=virtualstrategytech/vf-wiring-deterministic/.github/workflows/ci.yml@refs/heads/fix/close-http-clients
GITHUB_WORKFLOW_SHA=8985a7c3c6b24833fde52eab570e3d38f0a93065
GITHUB_WORKSPACE=/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic
GOROOT_1_22_X64=/opt/hostedtoolcache/go/1.22.12/x64
GOROOT_1_23_X64=/opt/hostedtoolcache/go/1.23.12/x64
GOROOT_1_24_X64=/opt/hostedtoolcache/go/1.24.9/x64
GOROOT_1_25_X64=/opt/hostedtoolcache/go/1.25.3/x64
GRADLE_HOME=/usr/share/gradle-9.2.0
HOME=/home/runner
HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS=3650
HOMEBREW_NO_AUTO_UPDATE=1
INVOCATION_ID=a75d71c206304602863332937f3ec122
ImageOS=ubuntu24
ImageVersion=20251102.99.1
JAVA_HOME=/usr/lib/jvm/temurin-17-jdk-amd64
JAVA_HOME_11_X64=/usr/lib/jvm/temurin-11-jdk-amd64
JAVA_HOME_17_X64=/usr/lib/jvm/temurin-17-jdk-amd64
JAVA_HOME_21_X64=/usr/lib/jvm/temurin-21-jdk-amd64
JAVA_HOME_25_X64=/usr/lib/jvm/temurin-25-jdk-amd64
JAVA_HOME_8_X64=/usr/lib/jvm/temurin-8-jdk-amd64
JOURNAL_STREAM=9:11923
LANG=C.UTF-8
LOGNAME=runner
MEMORY_PRESSURE_WATCH=/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure
MEMORY_PRESSURE_WRITE=c29tZSAyMDAwMDAgMjAwMDAwMAA=
NODE_OPTIONS=--require /home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.instrumentation.js
NVM_DIR=/home/runner/.nvm
OLDPWD=/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic
PATH=/opt/hostedtoolcache/node/18.20.8/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
PIPX_BIN_DIR=/opt/pipx_bin
PIPX_HOME=/opt/pipx
POWERSHELL_DISTRIBUTION_CHANNEL=GitHub-Actions-ubuntu24
PROMPT_URL=
PWD=/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic
RETRIEVAL_URL=
RUNNER_ARCH=X64
RUNNER_ENVIRONMENT=github-hosted
RUNNER_NAME=GitHub Actions 1000001250
RUNNER_OS=Linux
RUNNER_TEMP=/home/runner/work/_temp
RUNNER_TOOL_CACHE=/opt/hostedtoolcache
RUNNER_TRACKING_ID=github_c0facc24-53bb-4dc0-bc14-f745468df490
RUNNER_WORKSPACE=/home/runner/work/vf-wiring-deterministic
SELENIUM_JAR_PATH=/usr/share/java/selenium-server.jar
SGX_AESM_ADDR=1
SHELL=/bin/bash
SHLVL=2
SKIP_BODY_PARSER=1
SKIP_SMOKE=true
SKIP_SYNC_SECRET=true
SWIFT_PATH=/usr/share/swift/usr/bin
SYSTEMD_EXEC_PID=1882
USER=runner
USE_CHILD_PROCESS_SERVER=1
VCPKG_INSTALLATION_ROOT=/usr/local/share/vcpkg
WEBHOOK_API_KEY=E7STukD41sGo9PMDxd/5zn8wJGEYpqrLhws14aIRr0Y=
XDG_CONFIG_HOME=/home/runner/.config
XDG_RUNTIME_DIR=/run/user/1001
_=/usr/bin/env
--- STARTING JEST ---
globalSetup skipped in CI / SKIP_SYNC_SECRET=true
  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.warn
    DEBUG test-file loaded: webhook.smoke.test.js ts:2025-11-10T21:38:19.179Z

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object.<anonymous> (tests/webhook.smoke.test.js:31:11)

  console.error
    DEBUG test-file loaded: webhook.smoke.test.js ts:2025-11-10T21:38:19.207Z

    [0m [90m  97 |[39m [36mfunction[39m writeDebugLog(line) {
     [90m  98 |[39m   [36mtry[39m {
    [31m[1m>[22m[39m[90m  99 |[39m     console[33m.[39merror(line)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 100 |[39m   } [36mcatch[39m {}
     [90m 101 |[39m   [36mtry[39m {
     [90m 102 |[39m     [90m// best-effort: write to a stable repo artifacts folder so CI/workers on Windows[39m[0m

      at writeDebugLog (tests/webhook.smoke.test.js:99:13)
      at Object.<anonymous> (tests/webhook.smoke.test.js:53:5)

  console.warn
    SKIP_SMOKE=true, skipping webhook smoke tests

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/webhook.smoke.test.js:115:13
      at Object.<anonymous> (tests/webhook.smoke.test.js:111:1)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=6, visible=3

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":true,"pending":true}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[3] summary: {"idx":3,"type":"Socket","destroyed":true,"pending":true}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[4] summary: {"idx":4,"type":"ChildProcess","destroyed":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[5] summary: {"idx":5,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=1041 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=1054 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=1058 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/webhook.smoke.test.js
  webhook smoke
    âœ“ skipped in CI (3 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:20.552Z] GET /health rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:20.601Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.warn
    unauthorized: key mismatch

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at novain-platform/webhook/server.js:335:13
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at novain-platform/webhook/server.js:264:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:91:12)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at novain-platform/webhook/server.js:249:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at Readable.<anonymous> (novain-platform/webhook/server.js:192:9)

  console.warn
    DEBUG: active handles summary:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/webhook.inprocess.test.js:216:21

  console.warn
      [0] type=Socket str=[object Object]

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/webhook.inprocess.test.js:223:25)
          at Array.forEach (<anonymous>)
      at tests/webhook.inprocess.test.js:218:19

  console.warn
      [1] type=Socket str=[object Object]

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/webhook.inprocess.test.js:223:25)
          at Array.forEach (<anonymous>)
      at tests/webhook.inprocess.test.js:218:19

  console.warn
      [2] type=Socket str=[object Object]

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/webhook.inprocess.test.js:223:25)
          at Array.forEach (<anonymous>)
      at tests/webhook.inprocess.test.js:218:19

  console.warn
    DEBUG: captured listen callbacks count = 0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/webhook.inprocess.test.js:247:19

FAIL tests/webhook.inprocess.test.js
  Webhook (in-process)
    âœ“ GET /health returns ok (221 ms)
    âœ• POST /webhook ping responds with reply (58 ms)

  â— Webhook (in-process) â€º POST /webhook ping responds with reply

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 401

    [0m [90m 200 |[39m       body[33m,[39m
     [90m 201 |[39m     })[33m;[39m
    [31m[1m>[22m[39m[90m 202 |[39m     expect(res[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 203 |[39m     [36mconst[39m json [33m=[39m res[33m.[39mbody[33m;[39m
     [90m 204 |[39m     expect(json)[33m.[39mtoBeDefined()[33m;[39m
     [90m 205 |[39m     expect(json[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/webhook.inprocess.test.js:202:24)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.log
    RETRIEVAL_URL set: false

      at Object.<anonymous> (novain-platform/webhook/server.js:145:11)

  console.info
    PROMPT_URL set: true BUSINESS_URL set: false

      at Object.<anonymous> (novain-platform/webhook/server.js:146:11)

  console.info
    WEBHOOK_API_KEY present: true

      at Object.<anonymous> (novain-platform/webhook/server.js:148:11)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=2106 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2235 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2248 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2250 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/debug_llm_logging.test.js
  llm payload logging when DEBUG_WEBHOOK=true
    âœ“ logs llm payload snippet when enabled (177 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:21.960Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.log
    webhook: action=llm_elicit name=Guest tenantId=t

      at novain-platform/webhook/server.js:354:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:19:25)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:19:25)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:19:25)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:19:25)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:39:24)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:39:24)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:39:24)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:39:24)

  console.log
    [2025-11-10T21:38:22.079Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.log
    webhook: action=invoke_component name=Guest tenantId=t

      at novain-platform/webhook/server.js:354:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:48:25)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:48:25)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:48:25)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:48:25)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:73:24)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:73:24)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:73:24)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at Object.<anonymous> (tests/regression_raw_mirror.test.js:73:24)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=2735 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2829 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2841 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=2843 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/regression_raw_mirror.test.js
  regression: raw/data.raw mirror
    âœ“ llm_elicit returns raw and data.raw with same payload (206 ms)
    âœ“ invoke_component returns raw and data.raw with same payload (98 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:22.834Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.log
    webhook: action=llm_elicit name=Guest tenantId=default

      at novain-platform/webhook/server.js:354:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/llm_stub.test.js:33:25)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/llm_stub.test.js:33:25)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/llm_stub.test.js:33:25)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/llm_stub.test.js:33:25)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=3258 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=3270 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=3273 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/llm_stub.test.js
  llm_elicit stub behavior
    âœ“ POST /webhook llm_elicit returns stub when PROMPT_URL not set (147 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:23.509Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.log
    webhook: action=llm_elicit name=Guest tenantId=default

      at novain-platform/webhook/server.js:354:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/in_process.test.js:20:20)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/in_process.test.js:20:20)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/in_process.test.js:20:20)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/in_process.test.js:20:20)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=3595 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=3689 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=3701 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=3703 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/in_process.test.js
  in-process webhook app (refactored)
    âœ“ returns llm_elicit stub with source "stub" (133 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.info
    DEBUG_TESTS: fetchFn present at module init? true

      at Object.<anonymous> (novain-platform/webhook/server.js:45:15)

  console.info
    SKIP_BODY_PARSER set â€” using lightweight JSON body parser (test mode)

      at Object.<anonymous> (novain-platform/webhook/server.js:160:11)

  console.log
    [2025-11-10T21:38:24.221Z] GET /health rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:17:17)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:17:17)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:17:17)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:17:17)

  console.log
    [2025-11-10T21:38:24.341Z] POST /webhook rid=no-request-id

      at novain-platform/webhook/server.js:263:11

  console.log
    webhook: action=ping name=Alice tenantId=default

      at novain-platform/webhook/server.js:354:11

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:24:17)

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:24:17)

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:24:17)

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at requestApp (tests/helpers/request-helper.js:119:22)
      at Object.<anonymous> (tests/verify_in_process.test.js:24:17)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=3, visible=0

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: raw active handles dump (summary):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:606:21

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:616:25)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:607:21

  console.warn
    DEBUG_TESTS: raw active handles dump (detailed):

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:625:23

  console.warn
      [0] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [1] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
      [2] type=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:681:27)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:672:23

  console.warn
    DEBUG_TESTS: async_handle_map entries:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:707:23

  console.warn
      asyncId=4023 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=4301 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=4313 type=Timeout

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at initAsyncResource (node:internal/timers:164:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at new Timeout (node:internal/timers:198:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
      asyncId=4315 type=TickObject

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at tests/jest.setup.js:711:27

  console.warn
        Error: handle-init

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at AsyncHook.init (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:341:21)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitNative (node:internal/async_hooks:200:43)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at emitInitScript (node:internal/async_hooks:503:3)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at process.nextTick (node:internal/process/task_queues:132:5)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

  console.warn
        at onwrite (node:internal/streams/writable:477:17)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/jest.setup.js:717:35)
          at Array.forEach (<anonymous>)
      at tests/jest.setup.js:715:29

PASS tests/verify_in_process.test.js
  in-process app smoke
    âœ“ GET /health returns ok (126 ms)
    âœ“ POST /webhook ping (in-process) works with API key (113 ms)

  console.log
    jest.netblock: set nock allowlist -> /127\.0\.0\.1|::1|localhost/

      at Object.<anonymous> (tests/jest.netblock.js:51:17)

  console.warn
    DEBUG_TESTS: sweeping active handles, total=5, visible=2

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:860:17)
      at tests/jest.setup.js:576:24

  console.warn
      handle[0] summary: {"idx":0,"type":"Socket","destroyed":false,"fd":1,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[1] summary: {"idx":1,"type":"Socket","destroyed":false,"fd":2,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[2] summary: {"idx":2,"type":"Socket","destroyed":false,"fd":0,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[3] summary: {"idx":3,"type":"Server","destroyed":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
      handle[4] summary: {"idx":4,"type":"Socket","destroyed":false,"pending":false}

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:895:23)
      at tests/jest.setup.js:576:24

  console.warn
        createdStack-preview:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:903:29)
      at tests/jest.setup.js:576:24

  console.warn
          Error: agent-proto-socket-created

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.createConnectionProtoWithStack [as createConnection] (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:206:36)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.createSocket (node:_http_agent:341:26)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.addRequest (node:_http_agent:288:10)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
          at new ClientRequest (node:_http_client:342:16)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
          at Object.request (node:http:100:10)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:909:33)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:907:27)
      at tests/jest.setup.js:576:24

  console.warn
    DEBUG_TESTS: attempted cleanup handle[4] name=Socket

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1170:25)
      at tests/jest.setup.js:576:24

  console.warn
        createdStack-preview:

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1172:27)
      at tests/jest.setup.js:576:24

  console.warn
          Error: agent-proto-socket-created

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.createConnectionProtoWithStack [as createConnection] (/home/runner/work/vf-wiring-deterministic/vf-wiring-deterministic/tests/jest.setup.js:206:36)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.createSocket (node:_http_agent:341:26)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

  console.warn
          at Agent.addRequest (node:_http_agent:288:10)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

  console.warn
          at new ClientRequest (node:_http_client:342:16)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

  console.warn
          at Object.request (node:http:100:10)

    [0m [90m 53 |[39m       [90m// stderr being closed or write errors.[39m
     [90m 54 |[39m       [36mtry[39m {
    [31m[1m>[22m[39m[90m 55 |[39m         [36mreturn[39m _origConsoleWarn[33m.[39mapply(console[33m,[39m args)[33m;[39m
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 56 |[39m       } [36mcatch[39m {
     [90m 57 |[39m         [36mreturn[39m undefined[33m;[39m
     [90m 58 |[39m       }[0m

      at console.warn (tests/jest.setup.js:55:33)
      at forEach (tests/helpers/server-helper.js:1174:29)
          at Array.forEach (<anonymous>)
      at Object._forceCloseAllSockets (tests/helpers/server-helper.js:1173:67)
      at tests/jest.setup.js:576:24

